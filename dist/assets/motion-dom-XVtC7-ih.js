import{a as D,m as z,n as $,M as j,S as H,v as _}from"./motion-utils-rpnQiP0J.js";const X=D(()=>window.ScrollTimeline!==void 0);class Y{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(X()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ve extends Y{then(e,n){return this.finished.finally(e).then(()=>{})}}const G=t=>Array.isArray(t)&&typeof t[0]=="number",J={};function Q(t,e){const n=D(t);return()=>J[e]??n()}const b=Q(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},A=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,L={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:A([0,.65,.55,1]),circOut:A([.55,0,1,.45]),backIn:A([.31,.01,.66,-.59]),backOut:A([.33,1.53,.69,.99])};function N(t,e){if(t)return typeof t=="function"&&b()?Z(t,e):G(t)?A(t):Array.isArray(t)?t.map(n=>N(n,e)||L.easeOut):L[t]}function ye(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:o="easeInOut",times:u}={},c=void 0){const i={[e]:n};u&&(i.offset=u);const f=N(o,s);return Array.isArray(f)&&(i.easing=f),t.animate(i,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:c})}function Ae(t){return typeof t=="function"&&"applyToOptions"in t}function ge(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const F=2e4;function ee(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<F;)e+=n,r=t.next(e);return e>=F?1/0:e}function Ee(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ee(r),F);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:z(s)}}function te(t){return!!(typeof t=="function"&&b()||!t||typeof t=="string"&&(t in L||b())||G(t)||Array.isArray(t)&&t.every(te))}function we(t,e){t.timeline=e,t.onfinish=null}const E=["read","resolveKeyframes","update","preRender","render","postRender"];function ne(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(i){l.has(i)&&(c.schedule(i),t()),i(o)}const c={schedule:(i,f=!1,v=!1)=>{const y=v&&s?n:r;return f&&l.add(i),y.has(i)||y.add(i),i},cancel:i=>{r.delete(i),l.delete(i)},process:i=>{if(o=i,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,a&&(a=!1,c.process(i))}};return c}const se=40;function R(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=E.reduce((d,m)=>(d[m]=ne(a),d),{}),{read:o,resolveKeyframes:u,update:c,preRender:i,render:f,postRender:v}=l,h=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,se),1),s.timestamp=d,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),i.process(s),f.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(h))},y=()=>{n=!0,r=!0,s.isProcessing||t(h)};return{schedule:E.reduce((d,m)=>{const B=l[m];return d[m]=(K,U=!1,W=!1)=>(n||y(),B.schedule(K,U,W)),d},{}),cancel:d=>{for(let m=0;m<E.length;m++)l[E[m]].cancel(d)},state:s,steps:l}}const{schedule:re,cancel:Te,state:V,steps:Pe}=R(typeof requestAnimationFrame<"u"?requestAnimationFrame:$,!0),{schedule:be}=R(queueMicrotask,!1);let w;function ie(){w=void 0}const T={now:()=>(w===void 0&&T.set(V.isProcessing||j.useManualTiming?V.timestamp:performance.now()),w),set:t=>{w=t,queueMicrotask(ie)}},p={x:!1,y:!1};function I(){return p.x||p.y}function Le(t){return t==="x"||t==="y"?p[t]?null:(p[t]=!0,()=>{p[t]=!1}):p.x||p.y?null:(p.x=p.y=!0,()=>{p.x=p.y=!1})}function ae(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function q(t,e){const n=ae(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function x(t){return!(t.pointerType==="touch"||I())}function Fe(t,e,n={}){const[r,s,a]=q(t,n),l=o=>{if(!x(o))return;const{target:u}=o,c=e(u,o);if(typeof c!="function"||!u)return;const i=f=>{x(f)&&(c(f),u.removeEventListener("pointerleave",i))};u.addEventListener("pointerleave",i,s)};return r.forEach(o=>{o.addEventListener("pointerenter",l,s)}),a}const O=(t,e)=>e?t===e?!0:O(t,e.parentElement):!1,oe=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ce(t){return ue.has(t.tagName)||t.tabIndex!==-1}const g=new WeakSet;function C(t){return e=>{e.key==="Enter"&&t(e)}}function P(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const le=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=C(()=>{if(g.has(n))return;P(n,"down");const s=C(()=>{P(n,"up")}),a=()=>P(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function M(t){return oe(t)&&!I()}function Ve(t,e,n={}){const[r,s,a]=q(t,n),l=o=>{const u=o.currentTarget;if(!M(o)||g.has(u))return;g.add(u);const c=e(u,o),i=(h,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",v),!(!M(h)||!g.has(u))&&(g.delete(u),typeof c=="function"&&c(h,{success:y}))},f=h=>{i(h,u===window||u===document||n.useGlobalTarget||O(u,h.target))},v=h=>{i(h,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",v,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,s),o instanceof HTMLElement&&(o.addEventListener("focus",c=>le(c,s)),!ce(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}const S=30,fe=t=>!isNaN(parseFloat(t)),k={current:void 0};class he{constructor(e,n={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=T.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=T.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new H);const r=this.events[e].add(n);return e==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return k.current&&k.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=T.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>S)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,S);return _(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xe(t,e){return new he(t,e)}export{ve as G,xe as a,F as b,ee as c,Ee as d,G as e,re as f,Z as g,V as h,Ae as i,Te as j,ye as k,we as l,be as m,te as n,ge as o,oe as p,Le as q,Pe as r,b as s,T as t,Fe as u,Ve as v,k as w};
